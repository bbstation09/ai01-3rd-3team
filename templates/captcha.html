<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë³´ì•ˆë¬¸ì ì…ë ¥ | í‹°ì¼“ ì˜ˆë§¤</title>
    <link rel="stylesheet" href="/static/css/captcha.css">
</head>

<body>
    <header class="header">
        <a href="/performances" class="logo">TICKET<span>PARK</span></a>
    </header>

    <main class="main">
        <div class="captcha-box">
            <div class="perf-info">
                <div class="perf-name">{{ performance.title }}</div>
                <div class="perf-date">{{ selected_date }} {{ selected_time }}</div>
            </div>

            <div class="captcha-icon">ğŸ”’</div>
            <h2 class="captcha-title">ë³´ì•ˆë¬¸ì ì…ë ¥</h2>
            <p class="captcha-desc">
                ë§¤í¬ë¡œ í”„ë¡œê·¸ë¨ ë°©ì§€ë¥¼ ìœ„í•´<br>
                ì•„ë˜ ë³´ì•ˆë¬¸ìë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.
            </p>

            <div class="captcha-image-box">
                <span class="captcha-image" id="captchaText"></span>
                <button class="captcha-refresh" onclick="refreshCaptcha()" title="ìƒˆë¡œê³ ì¹¨">ğŸ”„</button>
            </div>

            <input type="text" class="captcha-input" id="captchaInput" placeholder="ë¬¸ì ì…ë ¥" maxlength="6"
                autocomplete="off">

            <button class="btn-verify" onclick="verifyCaptcha()">í™•ì¸</button>

            <p class="error-msg" id="errorMsg">ë³´ì•ˆë¬¸ìê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì…ë ¥í•´ì£¼ì„¸ìš”.</p>

            <div class="timer-box">
                ë‚¨ì€ ì‹œê°„: <span class="time" id="timer">03:00</span>
            </div>
        </div>
    </main>

    <script>
        // í…œí”Œë¦¿ ë³€ìˆ˜
        const perfId = "{{ performance.id }}";
        const selectedDate = "{{ selected_date }}";
        const selectedTime = "{{ selected_time }}";
    </script>
    <script src="/static/js/log_collector.js"></script>
    <script src="/static/js/captcha.js"></script>
</body>

</html>