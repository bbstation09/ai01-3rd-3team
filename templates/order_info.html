<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì˜ˆë§¤ì ì •ë³´ | í‹°ì¼“ ì˜ˆë§¤</title>
    <link rel="stylesheet" href="/static/css/common.css">
    <link rel="stylesheet" href="/static/css/order_info.css">
</head>

<body>
    <header class="header">
        <a href="/performances" class="logo">TICKET<span>PARK</span></a>
        <div class="timer" id="timer">05:00</div>
    </header>

    <div class="step-indicator">
        <div class="steps">
            <div class="step completed">
                <div class="step-num">âœ“</div><span>ì¢Œì„ì„ íƒ</span>
            </div>
            <div class="step-line completed"></div>
            <div class="step completed">
                <div class="step-num">âœ“</div><span>í• ì¸ê¶Œì¢…</span>
            </div>
            <div class="step-line completed"></div>
            <div class="step active">
                <div class="step-num">3</div><span>ì˜ˆë§¤ì •ë³´</span>
            </div>
            <div class="step-line"></div>
            <div class="step">
                <div class="step-num">4</div><span>ê²°ì œ</span>
            </div>
        </div>
    </div>

    <div class="container">
        <div class="section">
            <div class="section-header">ğŸ‘¤ ì˜ˆë§¤ì ì •ë³´ í™•ì¸</div>
            <div class="section-body">
                <div class="form-row">
                    <div class="form-group">
                        <label>ì´ë¦„</label>
                        <input type="text" value="{{ user.name }}" readonly>
                    </div>
                    <div class="form-group">
                        <label>ì—°ë½ì²˜ <span style="color:#ff6b6b; font-size:11px;">*ìˆ˜ì •ê°€ëŠ¥</span></label>
                        <input type="tel" id="bookerPhone" value="{{ user.phone }}" placeholder="010-0000-0000">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group full">
                        <label>ì´ë©”ì¼ <span style="color:#ff6b6b; font-size:11px;">*ìˆ˜ì •ê°€ëŠ¥</span></label>
                        <input type="email" id="bookerEmail" value="{{ user.email }}" placeholder="example@email.com">
                    </div>
                </div>
            </div>
        </div>

        <div class="section">
            <div class="section-header">ğŸšš ìˆ˜ë ¹ ë°©ë²• ì„ íƒ</div>
            <div class="section-body">
                <div class="delivery-options">
                    <label class="delivery-option selected" onclick="selectDelivery(this, 'pickup', 0)">
                        <input type="radio" name="delivery" value="pickup" checked>
                        <div class="delivery-icon">ğŸŸï¸</div>
                        <h4>í˜„ì¥ìˆ˜ë ¹</h4>
                        <p>ê³µì—° ë‹¹ì¼ ë§¤í‘œì†Œì—ì„œ ìˆ˜ë ¹</p>
                        <div class="fee">ë¬´ë£Œ</div>
                    </label>
                    <label class="delivery-option" onclick="selectDelivery(this, 'delivery', 3000)">
                        <input type="radio" name="delivery" value="delivery">
                        <div class="delivery-icon">ğŸ“¦</div>
                        <h4>ë°°ì†¡</h4>
                        <p>ë“±ê¸°ìš°í¸ ë°œì†¡</p>
                        <div class="fee">+3,000ì›</div>
                    </label>
                </div>

                <div class="price-summary">
                    <div class="price-row"><span>í‹°ì¼“ ê¸ˆì•¡</span><span>{{ "{:,}".format(total_price) }}ì›</span></div>
                    <div class="price-row"><span>í• ì¸ ê¸ˆì•¡</span><span>-{{ "{:,}".format(discount_amount) }}ì›</span></div>
                    <div class="price-row"><span>ë°°ì†¡ë¹„</span><span id="deliveryFee">0ì›</span></div>
                    <div class="price-row total"><span>ì´ ê²°ì œê¸ˆì•¡</span><span class="amount" id="totalAmount">{{
                            "{:,}".format(final_price) }}ì›</span></div>
                </div>
            </div>
        </div>

        <div class="action-bar">
            <button class="btn btn-back" onclick="history.back()">ì´ì „</button>
            <button class="btn btn-next" onclick="goNext()">ë‹¤ìŒ ë‹¨ê³„</button>
        </div>
    </div>

    <script>
        // í…œí”Œë¦¿ ë³€ìˆ˜
        const perfId = "{{ performance.id }}";
        const selectedDate = "{{ selected_date }}";
        const selectedTime = "{{ selected_time }}";
        const selectedSeats = "{{ selected_seats | join(',') }}";
        const discountType = "{{ discount_type }}";
        const finalPrice = {{ final_price }};
    </script>
    <script src="/static/js/order_info.js"></script>
</body>

</html>